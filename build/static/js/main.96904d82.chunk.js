(this.webpackJsonpclear=this.webpackJsonpclear||[]).push([[0],[,,,,,,,,function(e,t,a){},,,function(e,t,a){e.exports=a.p+"static/media/IMDb.2dae0ee6.png"},function(e,t,a){e.exports=a.p+"static/media/MetaCritic.34270fd3.png"},function(e,t,a){e.exports=a.p+"static/media/popcornsmooth.ab9fd6bc.png"},function(e,t,a){e.exports=a.p+"static/media/loadingicon.ccb6952e.svg"},function(e,t,a){e.exports=a(27)},,,,,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);for(var n=a(0),r=a.n(n),i=a(10),s=a.n(i),c=(a(20),a(7)),o=a.n(c),l=a(2),u=a(3),h=a(5),m=a(4),g=a(1),p=a(6),d=(a(22),a(23)),v=function(e){return{id:e.id,title:e.title,poster:e.poster,ratings:{imdb:e.rating,metaCritic:e.metascore},runTime:e.runtime,releaseDate:e.year,plot:e.plot}},b={getMovieData:function(e,t,a,n){var r;return o.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,o.a.awrap(d("http://localhost:5000/"+"?genre=".concat(e,"&minrating=").concat(t,"&startYear=").concat(a,"&endYear=").concat(n)).then((function(e){return e.json()})).then((function(e){var t,a,r,i;return o.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(e.movies[0]||!(n<2019)){s.next=3;break}return alert("There are no movies that meet your search criteria! We suggest you make one =). P.S. We can lend you a time machine"),s.abrupt("return",[]);case 3:if(e.movies[0]||2019!==n){s.next=6;break}return alert("There are no movies that meet your search criteria! Hollywood awaits your debut next year!!"),s.abrupt("return",[]);case 6:return s.prev=6,s.next=9,o.a.awrap(e.movies[0]);case 9:return t=s.sent,s.next=12,o.a.awrap(e.movies[1]);case 12:return a=s.sent,s.next=15,o.a.awrap(e.movies[2]);case 15:return r=s.sent,console.log(t),console.log(a),console.log(r),s.next=21,o.a.awrap(v(t));case 21:return s.t0=s.sent,s.next=24,o.a.awrap(v(a));case 24:return s.t1=s.sent,s.next=27,o.a.awrap(v(r));case 27:return s.t2=s.sent,i=[s.t0,s.t1,s.t2],console.log(i),s.abrupt("return",i);case 33:s.prev=33,s.t3=s.catch(6),console.log(s.t3);case 36:case"end":return s.stop()}}),null,null,[[6,33]])})));case 2:return r=i.sent,i.abrupt("return",r);case 4:case"end":return i.stop()}}))}},f=(a(8),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(g.a)(a)),a.setState=a.setState.bind(Object(g.a)(a)),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"handleChange",value:function(e){this.props.changeGenre(e.target.value),"Adventure"===e.target.value||"Animation"===e.target.value||"Action"===e.target.value?this.props.changeGrammar("an"):this.props.changeGrammar("a"),this.forceUpdate()}},{key:"render",value:function(){return r.a.createElement("div",{className:"dropdown-container"},r.a.createElement("h3",null,"I feel like watching ",this.props.grammar),r.a.createElement("select",{onChange:this.handleChange},r.a.createElement("option",{value:"Action"},"Action"),r.a.createElement("option",{value:"Adventure"},"Adventure"),r.a.createElement("option",{value:"Animation"},"Animation"),r.a.createElement("option",{value:"Biography"},"Biography"),r.a.createElement("option",{value:"Comedy"},"Comedy"),r.a.createElement("option",{value:"Crime"},"Crime"),r.a.createElement("option",{value:"Drama"},"Drama"),r.a.createElement("option",{value:"Fantasy"},"Fantasy"),r.a.createElement("option",{value:"Family"},"Family"),r.a.createElement("option",{value:"History"},"History"),r.a.createElement("option",{value:"Music"},"Music"),r.a.createElement("option",{value:"Mystery"},"Mystery"),r.a.createElement("option",{value:"Sci-Fi"},"Sci-Fi"),r.a.createElement("option",{value:"Romance"},"Romance"),r.a.createElement("option",{value:"Thriller"},"Thriller"),r.a.createElement("option",{value:"War"},"War"),r.a.createElement("option",{value:"Western"},"Western"),r.a.createElement("option",{value:"sci-fi"},"Sci-Fi"),r.a.createElement("option",{value:"horror"},"Horror")),r.a.createElement("h3",null,"movie."))}}]),t}(r.a.Component)),E=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(g.a)(a)),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"handleChange",value:function(e){console.log(e.target.value),this.props.changeRating(e.target.value)}},{key:"render",value:function(){return r.a.createElement("div",{className:"dropdown-container"},r.a.createElement("h3",null,"I only want to watch movies with a rating of "),r.a.createElement("select",{defaultValue:"7",onChange:this.handleChange},r.a.createElement("option",{value:"1"},"1/10"),r.a.createElement("option",{value:"2"},"2/10"),r.a.createElement("option",{value:"3"},"3/10"),r.a.createElement("option",{value:"4"},"4/10"),r.a.createElement("option",{value:"5"},"5/10"),r.a.createElement("option",{value:"6"},"6/10"),r.a.createElement("option",{value:"7"},"7/10"),r.a.createElement("option",{value:"8"},"8/10"),r.a.createElement("option",{value:"9"},"9/10")),r.a.createElement("h3",null,"and above."))}}]),t}(r.a.Component),y=[],k=2019;k>1900;k--)y.push(k);for(var C=[],j=y.length-1;j>-1;j--)C.push(y[j]);var O=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).handleStartChange=a.handleStartChange.bind(Object(g.a)(a)),a.handleEndChange=a.handleEndChange.bind(Object(g.a)(a)),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"handleStartChange",value:function(e){this.props.changeStartYear(Number(e.target.value))}},{key:"handleEndChange",value:function(e){this.props.changeEndYear(Number(e.target.value))}},{key:"render",value:function(){return r.a.createElement("div",{className:"dropdown-container"},r.a.createElement("h3",null,"I only want to watch movies created after"),r.a.createElement("select",{onChange:this.handleStartChange},C.map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement("h3",null,"and before"),r.a.createElement("select",{onChange:this.handleEndChange},y.map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement("h3",null,"."))}}]),t}(r.a.Component),S=(a(24),a(11)),w=a.n(S),x=a(12),N=a.n(x),Y=function(e){function t(){return Object(l.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"getAverage",value:function(){if("null"===this.props.ratings.metaCritic)return this.props.ratings.imdb;var e=(Number(this.props.ratings.imdb)+Number(this.props.ratings.metaCritic)/10)/2;return Math.round(10*e)/10}},{key:"render",value:function(){return r.a.createElement("div",{id:"movie-container",key:this.props.id},r.a.createElement("div",{className:"left flex-stretch"},r.a.createElement("h1",{className:"header flex-center"},this.props.title),r.a.createElement("span",{className:"left body plot"},r.a.createElement("p",{className:"flex"},this.props.plot)),r.a.createElement("div",{className:"left footer releaseruntime"},r.a.createElement("span",null,r.a.createElement("strong",{className:"releaseDate"},"Release Date:")," ",this.props.releaseDate)," ",r.a.createElement("span",{className:"separator"},"|")," ",r.a.createElement("span",null,r.a.createElement("strong",null,"Runtime:")," ",this.props.runTime))),r.a.createElement("div",{className:"middle flex-stretch"},r.a.createElement("span",{className:"header ratingheader flex-center"},r.a.createElement("h2",null,"Rating:")),r.a.createElement("span",{className:"body mainrating-container flex-center"},r.a.createElement("p",{className:"mainrating flex-center"},this.getAverage(),"/10")),r.a.createElement("div",{className:"footer ratings"},r.a.createElement("span",{className:"flex-center logos"},r.a.createElement("img",{src:w.a,height:"40em",width:"40em",alt:"IMDb: "})," ",this.props.ratings.imdb?this.props.ratings.imdb:"N/A"),r.a.createElement("span",{className:"flex-center logos"},r.a.createElement("img",{src:N.a,height:"40em",width:"40em",alt:"MetaCritic: "})," ",this.props.ratings.metaCritic?this.props.ratings.metaCritic:"N/A"))),r.a.createElement("div",{className:"right poster flex-center"},this.props.poster?r.a.createElement("img",{className:"right poster",src:this.props.poster,alt:"No poster available"}):null))}}]),t}(r.a.Component),A=(a(25),function(e){function t(){return Object(l.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"MovieResults"},this.props.movies?this.props.movies.map((function(t){return r.a.createElement(Y,{key:t.id,style:{display:e.props.poster?"flex":"block"},title:t.title,releaseDate:t.releaseDate,runTime:t.runTime,poster:t.poster,plot:t.plot,ratings:t.ratings})})):null)}}]),t}(r.a.Component)),T=(a(26),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).handleClick=a.handleClick.bind(Object(g.a)(a)),a.createButtons=a.createButtons.bind(Object(g.a)(a)),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"handleClick",value:function(e){e.persist();var t=Number(e.target.innerHTML);this.props.handleClick(t)}},{key:"createButtons",value:function(){for(var e=[],t=0;t<this.props.allSuggestions.length;t++)e.push(t);return e}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"pagebutton-container",style:{display:this.props.multipleSuggestions?"inline-flex":"none"}},this.createButtons().map((function(t){return r.a.createElement("button",{className:"pagebutton",onClick:e.handleClick,key:t},t+1)})))}}]),t}(r.a.Component)),M=a(13),R=a.n(M),D=a(14),G=a.n(D),P=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).state={searchActive:!1,loading:!1,searchTimeout:!1,genreSelected:"Action",minRating:7,startYear:1901,endYear:2019,grammar:"an",suggestions:[],multipleSuggestions:!1,allSuggestions:[],results:!1},a.changeGenre=a.changeGenre.bind(Object(g.a)(a)),a.changeGrammar=a.changeGrammar.bind(Object(g.a)(a)),a.changeRating=a.changeRating.bind(Object(g.a)(a)),a.getMovies=a.getMovies.bind(Object(g.a)(a)),a.handlePopcornClick=a.handlePopcornClick.bind(Object(g.a)(a)),a.changeStartYear=a.changeStartYear.bind(Object(g.a)(a)),a.changeEndYear=a.changeEndYear.bind(Object(g.a)(a)),a.searchTimeout=a.searchTimeout.bind(Object(g.a)(a)),a.handlePageClick=a.handlePageClick.bind(Object(g.a)(a)),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"getMovies",value:function(){var e,t,a,n=this;return o.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(!this.checkYearParameters()){r.next=12;break}return this.setState({searchTimeout:!0,loading:!0}),r.next=4,o.a.awrap(b.getMovieData(this.state.genreSelected,this.state.minRating,this.state.startYear,this.state.endYear));case 4:e=r.sent,this.state.allSuggestions.length>0&&this.setState({multipleSuggestions:!0}),t=function(e){var t=n.state.allSuggestions;t.push(e),n.setState({allSuggestions:t})},e===[]&&this.setState({searchActive:!1}),e.length<=3?(t(e),this.setState({suggestions:e,searchActive:!0,loading:!1})):(console.log("Results length is not three!"),a=e[0]+e[1]+e[2],t(a),this.setState({suggestions:a,searchActive:!0,loading:!1})),setTimeout((function(){n.searchTimeout()}),2e3),r.next=13;break;case 12:alert("You have entered an incorrect year range!");case 13:case"end":return r.stop()}}),null,this)}},{key:"checkYearParameters",value:function(){return this.state.endYear>this.state.startYear}},{key:"changeGenre",value:function(e){this.setState({genreSelected:e})}},{key:"changeGrammar",value:function(e){this.setState({grammar:e})}},{key:"changeRating",value:function(e){this.setState({minRating:e})}},{key:"changeStartYear",value:function(e){this.setState({startYear:e})}},{key:"changeEndYear",value:function(e){this.setState({endYear:e})}},{key:"handlePopcornClick",value:function(){this.setState({suggestions:[],searchActive:!1,searchTimeout:!1,multipleSuggestions:!1,allSuggestions:[]})}},{key:"handlePageClick",value:function(e){console.log(e),this.setState({suggestions:this.state.allSuggestions[e-1]})}},{key:"searchTimeout",value:function(){var e=this;setTimeout((function(){e.setState({searchTimeout:!1})}),100)}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",null,r.a.createElement("img",{src:R.a,style:{height:150,width:150},className:this.state.searchActive?"logo pointer":"logo",alt:"A popcorn icon with smiley face",onClick:this.handlePopcornClick}),r.a.createElement("h1",{style:{cursor:"default"}},"Welcome to Popcorn")),r.a.createElement("div",{id:"optionselector"},r.a.createElement(f,{changeGenre:this.changeGenre,changeGrammar:this.changeGrammar,genre:this.state.genreSelected,grammar:this.state.grammar}),r.a.createElement(E,{changeRating:this.changeRating}),r.a.createElement(O,{changeStartYear:this.changeStartYear,changeEndYear:this.changeEndYear,startYear:this.state.startYear,endYear:this.state.endYear})),r.a.createElement("button",{id:"getmoviesbutton",onClick:this.getMovies,className:this.state.searchActive?"pointer":null,style:{width:this.state.searchActive?200:180,height:this.state.searchActive?50:40,display:this.state.searchTimeout?"none":"block"}}," ",this.state.searchActive?"I don't like these. Show me more!":"Show me the movies!"),r.a.createElement("img",{src:G.a,alt:"Bouncing loading icon",style:{height:80,width:80,display:this.state.loading?"inline":"none"}}),r.a.createElement(A,{movies:this.state.suggestions}),r.a.createElement(T,{allSuggestions:this.state.allSuggestions,handleClick:this.handlePageClick,multipleSuggestions:this.state.multipleSuggestions}),r.a.createElement("span",{id:"githublink",style:{position:this.state.searchActive?"static":"fixed"}},"Created by ",r.a.createElement("a",{href:"https://github.com/Waterways12/"},"James Darby")))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[15,1,2]]]);
//# sourceMappingURL=main.96904d82.chunk.js.map